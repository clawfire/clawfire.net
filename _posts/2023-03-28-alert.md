---
title: ALERT
date: 2023-03-28T20:49:08.056Z
featured_image: /images/article_images/the_circle_2021.jpg
layout: post
tags:
- ActualitÃ©
categories:
- SociÃ©tÃ©

---
Vous connaissez peut Ãªtre Â«Â The CircleÂ Â», diffusÃ©e sur la plateforme de streaming Netflix. Imaginez-vous vivre dans un appartement isolÃ©, sans contact direct avec les autres participants, et ne communiquant quâ€™Ã  travers un rÃ©seau social exclusif appelÃ© Â«Â Le CercleÂ Â». Le but du jeu ? Devenir le joueur le plus populaire et remporter la somme de 100 000 dollars. Mais attention, les apparences sont souvent trompeuses et la stratÃ©gie est de mise, car les candidats ont la possibilitÃ© de se faire passer pour quelquâ€™un dâ€™autre. Entre alliances, trahisons et rÃ©vÃ©lations, Â«Â The CircleÂ Â» nous offre une expÃ©rience sociale unique en son genre et soulÃ¨ve des questions pertinentes sur lâ€™impact des rÃ©seaux sociaux dans notre vie quotidienne. Alors, qui sera le maÃ®tre de lâ€™illusion et remportera la victoire ?

![The circle logo](/images/article_images/giphy.gif)

Pire, jâ€™ai le SON dans ma tÃªte ğŸ™„

Du coup, comme je crois beaucoup au concept de devoir faire dÃ©gorger une musique quand elle se retrouve coincÃ©e dans ma tÃªte, je me suis dis Â«Â allez, on va se faire un truc qui mâ€™envois une notification avec le son Ã  chaque fois que je reÃ§ois un email comme ceux lÃ Â Â».

## NO CODE

Oui, parce que je suis fainÃ©ant, je fais beaucoup de truc avec des outils no-code / low-code plutÃ´t que de sortir mon IDE (Environnement de dÃ©veloppement / Integrated development environment). Pour un truc aussi simple, je serais partit sur  [IFTTT](https://ifttt.com/join?ref=thibaultmilan2) . Mais voila, grand drame, il ne supporte pas dâ€™avoir un trigger sur Gmail. Bon, ni une ni deux, je sors mon compte Zapier payant (hors de prix, autant le rentabiliser) qui est, il faut le reconnaitre, bien plus performant.

Je vous mets  [la recette du zap ici](https://zapier.com/shared/7f8c39e16680f3a4be03fc1b241383b96a13efa7) , je vais dÃ©tailler chaque partie juste aprÃ¨s.

### RÃ©cupÃ©rer lâ€™email

Dans un premier temps il faut donc rÃ©cupÃ©rer lâ€™email quâ€™on veux dans Gmail. Assez facile, mes emails viennent de ma banque et dÃ©marrent avec le mÃªme objet Ã  chaque fois. Je peux donc me baser sur une recherche `From:My Bank subject: Alerte My Bank`  et je tombe sur tout les emails. Zapier sera assez malin pour ne prendre que les nouveaux. 

### Balancer une notification

Dâ€™ordinaire jâ€™utilise PushBullet qui est gratuit. Mais il ne permet pas de personnaliser le canal de notification sur Android (ce qui mâ€™aurait permis de mettre une sonnerie spÃ©cifique sur mon smartphone) ni le son de notification utilisÃ© par lâ€™application. Du coup, je me rabat sur lâ€™excellent mais payant [Pushover](https://pushover.net) qui a aussi une intÃ©gration toute faite avec Zapier. 

Il suffit alors de dÃ©finir le titre, jâ€™ai repris celui de lâ€™objet de lâ€™email; le contenu de la notification, jâ€™ai repris le texte de lâ€™email mais sans mise en forme, comme Ã§a jâ€™ai les dÃ©tails de la transaction; et le pÃ©riphÃ©rique vers lequel envoyer la notification. 

Notez quâ€™il faut donc installer lâ€™application (Android ou iOS) et sâ€™identifier pour enregistrer le pÃ©riphÃ©rique. Vous pouvez aussi faire un groupe de pÃ©riphÃ©rique qui peut Ãªtre utiliser comme destinataire. Dans ce cas vous aurez lâ€™option de faire que si vous fermez une notification sur un pÃ©riphÃ©rique, elle disparaisse des autres Ã©galement. PlutÃ´t pratique pour synchroniser un iPad et un iPhone par exemple.

### Wait, mais le son perso ?

Jâ€™y viens.

Dans lâ€™interface de pushover, vous pouvez uploader un mp3 de moins de 500ko et lui donner un nom genre `the_circle_alter`. Vous pouvez utiliser cela ensuite lorsque vous envoyez une notification.

### Plus quâ€™Ã  tester et publier !

Le test fonctionne bien, je rigole comme un teubÃ© avec mon tÃ©lÃ©phone qui joue la sonnerie pour lâ€™alerte mais impossible de lancer mon zap ğŸ™€. En effet, mon compte Google bÃ©nÃ©ficie du [Programme ProtectionÂ AvancÃ©e](https://landing.google.com/advancedprotection/). 

*Flashback*

Il y a quelques annÃ©e de cela, Google mâ€™avais directement contactÃ© pour me proposer de passer sur leur programme de protection avancÃ©e au vue de lâ€™activitÃ© qui Ã©tait rencontrÃ© envers mon compte. Je tombais, selon eux, dans la case des militants qui sont la cible de cyber-attaques.
Ca mâ€™as fait un peu hallucinÃ© Ã  lâ€™Ã©poque, mais jâ€™ai acceptÃ© et reÃ§u une clÃ© titan, qui est une petite clÃ© physique USB-C que jâ€™insÃ¨re dans le port de la machine (tÃ©lÃ©phone ou ordinateur) pour pouvoir me connecter Ã  mon compte Google. Il faut Ã©galement une deuxiÃ¨me clÃ© de backup (non fournie) mais, comme Google sâ€™appuie sur un standard de sÃ©curitÃ©, jâ€™en avais dÃ©jÃ  une que jâ€™utilisais pour mon authentification multi-factorielle en lieu et place dâ€™un code par SMS / Email (parce que ce nâ€™est pas sÃ©curisÃ©). 

*Fin du flashback*

Du coup, Ã  cause de cela je ne peux envoyer mes donnÃ©es Google que vers des prestataires vÃ©rifiÃ©s. Seul hic, lâ€™audit de sÃ©curitÃ© est payant et Ã  la charge des entreprises qui veulent Ãªtre certifiÃ©e. Toutes ne peuvent pas se le permettre. Pushover en fait partit. Donc, bien que Zapier soit certifiÃ©, il ne peut acheminer mes donnÃ©es vers Pushover. 

Quâ€™a cela ne tienne. On va vÃ©rifier lâ€™adage qui dit que (si si il doit bien y en avoir un) câ€™est lâ€™utilisateur le maillon le plus faible de la chaine de sÃ©curitÃ© et contourner cela.

Zapier propose plusieurs trucs fait par eux, notamment de pouvoir faire des requÃªtes API ğŸ˜. Vous me voyez venir ? Oui, on va contourner le module Pushover tout fait pour aller [parler Ã  leur API](https://pushover.net/api) directement . Il faut dire que câ€™est assez simple. On crÃ©e une clÃ© API chez Pushover, on fait en action un Â«Â webhookÂ Â» en `POST`vers lâ€™API et on renseigne toutes les informations dont on a besoin: token, user, message, title, device, priority et sound. 

Et voila, le tour est jouÃ©! Je peux publier mon zap et mâ€™Ã©merveiller de mon Â«Â BOING! ALERT! WooshÂ Â» de The Circle quand je reÃ§oit des emails de ma banque.